<?phpnamespace Loytor\Wxhelper\Api;use Loytor\Wxhelper\Utils\Http;class Oauth2 extends ApiAbstract{    const URL_OAUTH2_USERINFO = 'https://api.weixin.qq.com/sns/userinfo';    /**     * 通过 Oauth2 AccessToken 换取用户基本信息     *     * @param $openid     * @param string $lang     * @return array|null|string     */    public function getOauth2Userinfo($openid, $lang = "zh_CN")    {        $result = Http::request('GET', self::URL_OAUTH2_USERINFO)->withQuery([            'access_token' => $this->access_token,            'openid' => $openid,            'lang' => $lang        ])->send();        if (isset($result['errcode'])) {            $this->setErrorMsg($result);            return null;        } else {            return $result;        }    }    public function authorize($authorizer_appid, $redirect_uri, $scope, $state, $component_appid)    {        $url = "https://open.weixin.qq.com/connect/oauth2/authorize?appid={$authorizer_appid}&redirect_uri={$redirect_uri}&response_type=code&scope={$scope}&state={$state}&component_appid={$component_appid}#wechat_redirect";        header("Refersh:1;URL=$url");        exit(200);    }}